"use strict";(self["webpackChunktopcvetok"]=self["webpackChunktopcvetok"]||[]).push([[847],{9847:function(e,a,l){l.r(a),l.d(a,{default:function(){return E}});var t=l(641),u=l(953),s=l(33),o=l(3751),c=l(5220),n=l(6278),r=l(316),i=l(9793),v=l(5018);const d={key:0,class:"product-content"},k={class:"content-left"},p=["src","alt"],_={class:"content-right"},f={class:"cost"},m=["value"],g={class:"counter"},b={class:"buttons"},C={key:0,class:"description"},h={key:1,class:"description"},R={key:1},y={key:2};var F=(0,t.pM)({__name:"index",setup(e){const a=(0,c.lq)(),l=(0,n.Pj)(),F=((0,u.KR)(null),(0,u.KR)("")),W=(0,u.KR)(1),z=(0,t.EW)((()=>{const e=a.params.slug;return l.getters["products/getProductBySlug"](e)}));(0,t.sV)((async()=>{z.value||await l.dispatch("products/fetchProducts",{limit:50,offset:0})}));const E=()=>{z.value&&console.log("Adding to cart:",{product:z.value,quantity:W.value,selectedPrice:z.value})},L=()=>{W.value+=1},N=()=>{W.value>1&&(W.value-=1)};return(e,a)=>z.value?((0,t.uX)(),(0,t.CE)("section",d,[(0,t.Lk)("div",k,[(0,t.bF)((0,u.R1)(i.D),{tagName:"h1",color:"dark",size:"l",class:"title"},{default:(0,t.k6)((()=>[(0,t.eW)((0,s.v_)(z.value.name),1)])),_:1}),(0,t.Lk)("img",{src:z.value.photo||"/placeholder-image.jpg",alt:z.value.name,class:"image"},null,8,p)]),(0,t.Lk)("div",_,[(0,t.bF)((0,u.R1)(i.D),{tagName:"h1",color:"dark",size:"l",class:"title"},{default:(0,t.k6)((()=>[(0,t.eW)((0,s.v_)(z.value.name),1)])),_:1}),(0,t.bF)((0,u.R1)(r.f),{tagName:"span",color:"dark",size:"xxl",class:"total-cost"},{default:(0,t.k6)((()=>[(0,t.eW)((0,s.v_)((F.value||z.value.price)*W.value)+" Br ",1)])),_:1}),(0,t.Lk)("div",f,[z.value.prices&&z.value.prices.length?(0,t.bo)(((0,t.uX)(),(0,t.CE)("select",{key:0,"onUpdate:modelValue":a[0]||(a[0]=e=>F.value=e)},[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(z.value.prices,(e=>((0,t.uX)(),(0,t.CE)("option",{key:e.id,value:e.value},(0,s.v_)(e.name)+" - "+(0,s.v_)(e.value)+" Br ",9,m)))),128))],512)),[[o.u1,F.value]]):(0,t.Q3)("",!0),(0,t.Lk)("div",g,[(0,t.Lk)("div",b,[(0,t.Lk)("button",{onClick:N},"-"),(0,t.bo)((0,t.Lk)("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>W.value=e),readonly:""},null,512),[[o.Jo,W.value]]),(0,t.Lk)("button",{onClick:L},"+")]),(0,t.bF)((0,u.R1)(v.$),{tagName:"button",size:"xs",color:"white",onClick:E,class:"add-button"},{default:(0,t.k6)((()=>a[2]||(a[2]=[(0,t.eW)(" Добавить в корзину ")]))),_:1,__:[2]})])]),(0,t.bF)((0,u.R1)(r.f),{tagName:"span",color:"dark",size:"xxl",class:"total-cost-mobile"},{default:(0,t.k6)((()=>[(0,t.eW)((0,s.v_)((F.value||z.value.price)*W.value)+" Br ",1)])),_:1}),z.value.description?((0,t.uX)(),(0,t.CE)("article",C,[(0,t.bF)((0,u.R1)(r.f),{tagName:"p",color:"dark",size:"l"},{default:(0,t.k6)((()=>[(0,t.eW)((0,s.v_)(z.value.description),1)])),_:1})])):((0,t.uX)(),(0,t.CE)("article",h,[(0,t.bF)((0,u.R1)(r.f),{tagName:"p",color:"dark",size:"l"},{default:(0,t.k6)((()=>[(0,t.eW)((0,s.v_)(z.value.name)+" - Приобрести в магазине Top Cvetok ",1)])),_:1})]))])])):!z.value&&(0,u.R1)(l).state.products.productsData.length?((0,t.uX)(),(0,t.CE)("section",R,[(0,t.bF)((0,u.R1)(r.f),{tagName:"p",color:"dark",size:"l"},{default:(0,t.k6)((()=>a[3]||(a[3]=[(0,t.eW)(" Продукт не найден ")]))),_:1,__:[3]})])):((0,t.uX)(),(0,t.CE)("section",y,[(0,t.bF)((0,u.R1)(r.f),{tagName:"p",color:"dark",size:"l"},{default:(0,t.k6)((()=>a[4]||(a[4]=[(0,t.eW)(" Загрузка... ")]))),_:1,__:[4]})]))}}),W=l(6262);const z=(0,W.A)(F,[["__scopeId","data-v-9500fd3a"]]);var E=z}}]);
//# sourceMappingURL=847.js.map